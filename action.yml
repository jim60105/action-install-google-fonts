name: 'Install Google Fonts'
description: 'Install fonts from Google Fonts in GitHub Actions'
author: jim60105
branding:
  icon: type
  color: blue
inputs:
  fonts:
    description: 'Font families to install (comma-separated or newline-separated). Example: "Roboto,Noto Sans TC,Noto Color Emoji"'
    required: true
  weights:
    description: 'Font weights to install (comma-separated: 100,300,400,500,700,900)'
    required: false
    default: '400,700'
  download-flag:
    description: 'Flags for wget or curl'
    required: false
    default: '-nv'
runs:
  using: "composite"
  steps:
    - run: ${{ github.action_path }}/init.sh
      shell: bash
    
    - run: |
        echo "::group::Download and install fonts"
        ${{ github.action_path }}/download_fonts.sh \
          -f "${{ inputs.download-flag }}" \
          -w "${{ inputs.weights }}" \
          "${{ inputs.fonts }}"
        echo "::endgroup::"
      shell: bash
    
    - run: |
        echo "::group::Update font cache"
        ${{ github.action_path }}/install.sh
        echo "::endgroup::"
      shell: bash
    
    - run: ${{ github.action_path }}/clear.sh
      shell: bash
